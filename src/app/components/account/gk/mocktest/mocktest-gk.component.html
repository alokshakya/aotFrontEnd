<div class="ui-g">
    <div class="ui-g-12" *ngIf="!subjectInfo.subscribedSubjects['General-Knowledge']">
        <p-panel header="Subscribe">
            <div class="ui-g">
                <div class="ui-g-12 text-center">
                    <h1>No Test Available</h1>
                    <br>
                    <button pButton (click)="redirect()" type="text" class="ui-button-info" label="Subscribe Now"></button>
                </div>
            </div>
        </p-panel>
    </div>
    <div class="info-side-box">
            <div><button class="btn ui-button-info" data-toggle="modal" data-target="#introModel"><span><i class="fa fa-exclamation-circle"></i></span></button></div>
            <div><button class="btn ui-button-info" data-toggle="modal" data-target="#progressModal"><span><i class="fa fa-pie-chart"></i></span></button></div>
        </div>
<div class="modal fade" id="introModel" tabindex="-1" role="dialog" aria-labelledby="introModel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Introduction</h4>
      </div>
      <div class="modal-body">
        <div id="intro" [MathJax]="lang.testIntro.mockTest"></div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="progressModal" tabindex="-1" role="dialog" aria-labelledby="progressModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Progress</h4>
      </div>
      <div class="modal-body">
        <p-chart type="doughnut" [data]="mockTestData"></p-chart>
      </div>
    </div>
  </div>
</div>

    <div class="ui-g-6 ui-sm-12">
        <p-panel>
            <p-header>Syllabus</p-header>
            <p-accordion>
                <div class="ui-g">
                    <div class="ui-g-12">
                        <p-dataTable [value]="patternArray">
                            <p-column [style]="{'border':'1px solid lightgrey','text-align':'center'}" *ngFor="let col of patternCols" [header]="col.header" [field]="col.field"></p-column>
                        </p-dataTable>
                    </div>
                </div>
            </p-accordion>
        </p-panel>
    </div>
    <div class="ui-g-6 ui-sm-12">
        <p-panel>
            <p-header><span class="">Mock Test</span>
                
            </p-header>
            <div class="ui-g">
                <div class="ui-g-12 ui-sm-12 container" *ngIf="subjectInfo.subscribedSubjects['General-Knowledge']&&test.gk?.mock_test!=null">
                    <div class="table-responsive">
                        <table class="table">
                        <thead>
                          <tr>
                            <th style="width:27%">Mock Test</th>
                            <th>Slot 1</th>
                            <th>Slot 2</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let test of test.gk.mock_test.tests;let k=index">
                            <td><span [ngClass]="shade(k)">{{k+1}}</span></td>
                            <td *ngIf="true"> <button label=" {{dateNow|date:'medium'}} " pButton class="ui-button-warning"></button> </td>


                            <td *ngIf="true">
                                <span class="low" *ngIf="test.attempted==0">
                                    <button *ngIf="spinner2!=test.id" class="ui-button-success" (click)="startTest(test.id,null,test.attempted,test.completed,null,k)" label="Start" [disabled]="spinner2!=null" type="button" pButton></button>
                                    <button *ngIf="spinner2==test.id" class="ui-button-success" icon="fa fa-circle-o-notch fa-spin fa-forward" [disabled]="false" type="button" pButton></button>
                                </span>

                                <span class="low" *ngIf="test.attempted==1&&test.completed==1">
                                    <button *ngIf="spinner2!=test.id" class="ui-button-success" label="{{result.gk['mock_test']['tests'][k]['score']}}/{{result.gk['mock_test']['tests'][k]['marks']}}" type="button" pButton></button>
                                </span>

                                <span *ngIf="test.completed==0&&test.attempted!=0" class="low">
                                    <button *ngIf="spinner2!=test.id" class="ui-button-warning" (click)="startTest(test.id,null,test.attempted,test.completed,null,k)" label="Resume" [disabled]="spinner2!=null" type="button" pButton></button>
                                    <button *ngIf="spinner2==test.id" class="ui-button-warning" icon="fa fa-circle-o-notch fa-spin fa-forward" type="button" pButton></button>
                                </span>
                            </td>

                            <td *ngIf="false"> <button label=" {{dateNow|date:'medium'}} " pButton class="ui-button-warning"></button> </td>
                            <td *ngIf="false">
                                <span class="low" *ngIf="test.attempted==0">
                                    <button *ngIf="spinner2!=test.id" class="ui-button-danger" (click)="startTest(test.id,null,test.attempted,test.completed,null,k)" label="Start" [disabled]="spinner2!=null" type="button" pButton></button>
                                    <button *ngIf="spinner2==test.id" class="ui-button-danger" icon="fa fa-circle-o-notch fa-spin fa-forward" [disabled]="false" type="button" pButton></button>
                                </span>

                                <span *ngIf="test.completed==0&&test.attempted!=0" class="low">
                                    <button *ngIf="spinner2!=test.id" class="ui-button-warning" (click)="startTest(test.id,null,test.attempted,test.completed,null,k)" label="Resume" [disabled]="spinner2!=null" type="button" pButton></button>
                                    <button *ngIf="spinner2==test.id" class="ui-button-warning" icon="fa fa-circle-o-notch fa-spin fa-forward" type="button" pButton></button>
                                </span>
                            </td>
                          </tr>
                        </tbody>
                        </table>
                    </div>
                </div>
                <div class="ui-g-12 text-center" *ngIf="!subjectInfo.subscribedSubjects['General-Knowledge']">
                    <h4>Please Subscribe To Take Test</h4><br>
                    <button class="ui-button-info" pButton label="Subscribe" (click)="redirect()"></button>
                </div>                
            </div>
        </p-panel>
    </div>
</div>